### 开发者流程

*提示：正式接入批改网API前，请认真阅读“<a href="http://api.pigai.org/apibook/api.html">api使用协议</a>”，当您接入API后，表表示您同意协议所有内容。*

API的接入需要经过以下3步：

1. 提交申请资料（选择你要调用哪种API），<a href="http://api.pigai.org/static/docs/%E6%89%B9%E6%94%B9%E7%BD%91API%E6%8E%A5%E5%85%A5%E7%94%B3%E8%AF%B7%E8%A1%A8.doc"> 下载API接入申请表</a>；

2. 通过审核，获得APP key；

3. 使用<a href="http://api.pigai.org/apibook/handbooks/index.html">API手册</a>完成接入。

### API介绍

批改作文分析接口有同步和异步2种。2个接口都支持对作文进行打分，提供维度分析和按句点评，返回的结果也是一样的；在一般情况下，不管采用同步接口还是异步接口，在3秒钟之内都会返回结果，二都在速度上没有区别。

目前批改网大部分资源都集中在异步接口。批改网上所有作文分析都是异步分析，包括快速体验（http://www.pigai.org/guest2016.html）。当并发量较大时，异步接口相对于同步接口有着明显的优势。

###### 二者性能指标如下：

| 指标 | 同步接口 | 异步接口 |
| -- | -- | --|
| 1秒最多处理 | 10篇作文 | 20篇作文 |
| 1万任务量处理时间 | 集中提交，大概需要1000秒 | 集中提交，大概需要500秒 |
| 支持最高并发 | 最高支持200并发 | 最高500并发 |

###### 如果您的网站预期并发量较大，在接入时，给您的建议如下：

1. 采用异步接口

当并发量比较大时，异步接口会采用排队机制（同步接口没有这种机制），先将作文放在分析队列里面（我们会告诉您队列里面有多少作文篇待分析），逐篇进行分析并给出结果。批改网2016年上半年做过百万同题的活动，到截止提交的时间点，最高同时有8万多篇提交，差不多处理了10分钟。

2. 分散提交

如果在并发量比较大的情况如，如希望能尽快给学生出成绩。为避免因集中提交而导致反馈时间被延迟。建议尽量分散提交；

3. 调用作文接口时，不带范文

范文是用来检测作文是否跑题，会增加分析的时间，如果对跑题无要求，调用API可以不带范文。
